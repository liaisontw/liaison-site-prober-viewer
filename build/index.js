(()=>{"use strict";var e,n={457(e,n,s){const r=window.wp.blocks,t=(window.wp.i18n,window.wp.blockEditor,window.wp.element),i=window.wp.components,o=window.wp.apiFetch;var a=s.n(o);const c=window.ReactJSXRuntime;(0,r.registerBlockType)("site-prober/log-viewer",{edit:function(){const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)(!0),[o,l]=(0,t.useState)("");return(0,t.useEffect)(()=>{let e=!0;return async function(){r(!0),l("");try{const s=await a()({path:"/site-prober/v1/logs"});e&&n(s.logs||[])}catch(n){e&&l("Failed to load logs.")}finally{e&&r(!1)}}(),()=>{e=!1}},[]),s?(0,c.jsx)(i.Spinner,{}):o?(0,c.jsx)(i.Notice,{status:"error",children:o}):(0,c.jsxs)("div",{className:"splv-editor",children:[(0,c.jsx)("h3",{children:"Site Prober Logs"}),(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"manage-column column-date",children:"Time"}),(0,c.jsx)("th",{className:"manage-column column-user",children:"User"}),(0,c.jsx)("th",{className:"manage-column column-ip",children:"IP"}),(0,c.jsx)("th",{className:"manage-column column-action",children:"Action"}),(0,c.jsx)("th",{className:"manage-column column-object",children:"object"}),(0,c.jsx)("th",{className:"manage-column column-description",children:"Description"})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"column-date",children:e.created_at}),(0,c.jsx)("td",{className:"column-user",children:e.user_id}),(0,c.jsx)("td",{className:"column-ip",children:e.ip}),(0,c.jsx)("td",{className:"column-action",children:e.action}),(0,c.jsx)("td",{className:"column-object",children:e.object_type}),(0,c.jsx)("td",{className:"column-description",children:e.description})]},e.id))})]})]})},save:function(){return null}})}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,e=[],r.O=(n,s,t,i)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,t,i]=e[d],a=!0,c=0;c<s.length;c++)(!1&i||o>=i)&&Object.keys(r.O).every(e=>r.O[e](s[c]))?s.splice(c--,1):(a=!1,i<o&&(o=i));if(a){e.splice(d--,1);var l=t();void 0!==l&&(n=l)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,t,i]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var s in n)r.o(n,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};r.O.j=n=>0===e[n];var n=(n,s)=>{var t,i,[o,a,c]=s,l=0;if(o.some(n=>0!==e[n])){for(t in a)r.o(a,t)&&(r.m[t]=a[t]);if(c)var d=c(r)}for(n&&n(s);l<o.length;l++)i=o[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},s=globalThis.webpackChunkliaison_site_prober_viewer=globalThis.webpackChunkliaison_site_prober_viewer||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))})();var t=r.O(void 0,[350],()=>r(457));t=r.O(t)})();