(()=>{"use strict";var e,n={457(e,n,s){const r=window.wp.blocks,t=(window.wp.i18n,window.wp.blockEditor,window.wp.element),o=window.wp.components,i=window.wp.apiFetch;var l=s.n(i);const c=window.ReactJSXRuntime;(0,r.registerBlockType)("site-prober/log-viewer",{edit:function(){const[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)(!0),[i,a]=(0,t.useState)("");return console.log("logs:",e),(0,t.useEffect)(()=>{let e=!0;return async function(){r(!0),a("");try{const s=await l()({path:"/site-prober/v1/logs"});e&&n(s.logs||[])}catch(n){e&&a("Failed to load logs.")}finally{e&&r(!1)}}(),()=>{e=!1}},[]),(0,c.jsxs)("div",{className:"splv-editor",children:[(0,c.jsx)("h3",{children:"Site Prober Logs"}),s&&(0,c.jsx)(o.Spinner,{}),i&&(0,c.jsx)(o.Notice,{status:"error",children:i}),!s&&!i&&0===e.length&&(0,c.jsx)(o.Notice,{status:"info",children:"No logs found."}),(0,c.jsx)(o.Card,{children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"manage-column column-date",children:"Time"}),(0,c.jsx)("th",{className:"manage-column column-user",children:"User"}),(0,c.jsx)("th",{className:"manage-column column-ip",children:"IP"}),(0,c.jsx)("th",{className:"manage-column column-action",children:"Action"}),(0,c.jsx)("th",{className:"manage-column column-object",children:"object"}),(0,c.jsx)("th",{className:"manage-column column-description",children:"Description"})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"column-date",children:e.created_at}),(0,c.jsx)("td",{className:"column-user",children:e.user_id}),(0,c.jsx)("td",{className:"column-ip",children:e.ip}),(0,c.jsx)("td",{className:"column-action",children:e.action}),(0,c.jsx)("td",{className:"column-object",children:e.object_type}),(0,c.jsx)("td",{className:"column-description",children:e.description})]},e.id))})]})})]})},save:function(){return null}})}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var o=s[e]={exports:{}};return n[e](o,o.exports,r),o.exports}r.m=n,e=[],r.O=(n,s,t,o)=>{if(!s){var i=1/0;for(d=0;d<e.length;d++){for(var[s,t,o]=e[d],l=!0,c=0;c<s.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every(e=>r.O[e](s[c]))?s.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var a=t();void 0!==a&&(n=a)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,t,o]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var s in n)r.o(n,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};r.O.j=n=>0===e[n];var n=(n,s)=>{var t,o,[i,l,c]=s,a=0;if(i.some(n=>0!==e[n])){for(t in l)r.o(l,t)&&(r.m[t]=l[t]);if(c)var d=c(r)}for(n&&n(s);a<i.length;a++)o=i[a],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},s=globalThis.webpackChunkliaison_site_prober_viewer=globalThis.webpackChunkliaison_site_prober_viewer||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))})();var t=r.O(void 0,[350],()=>r(457));t=r.O(t)})();